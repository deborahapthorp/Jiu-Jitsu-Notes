<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>White Belt</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./whitebelt.html" aria-current="page"> 
<span class="menu-text">White Belt</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./drills.html"> 
<span class="menu-text">Drills and Games</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#things-we-need-to-know-for-white-belt" id="toc-things-we-need-to-know-for-white-belt" class="nav-link active" data-scroll-target="#things-we-need-to-know-for-white-belt">Things we need to know for White Belt</a>
  <ul class="collapse">
  <li><a href="#closed-guard---top---4-passes" id="toc-closed-guard---top---4-passes" class="nav-link" data-scroll-target="#closed-guard---top---4-passes">Closed guard - top - 4 passes</a>
  <ul class="collapse">
  <li><a href="#over-leg-pass" id="toc-over-leg-pass" class="nav-link" data-scroll-target="#over-leg-pass">Over-leg pass</a></li>
  <li><a href="#under-leg-pass" id="toc-under-leg-pass" class="nav-link" data-scroll-target="#under-leg-pass">Under-leg pass</a></li>
  <li><a href="#double-under-leg-pass" id="toc-double-under-leg-pass" class="nav-link" data-scroll-target="#double-under-leg-pass">Double under-leg pass</a></li>
  <li><a href="#dancing-pass" id="toc-dancing-pass" class="nav-link" data-scroll-target="#dancing-pass">“Dancing” pass</a></li>
  </ul></li>
  <li><a href="#guard---bottom---two-sweeps-two-submissions" id="toc-guard---bottom---two-sweeps-two-submissions" class="nav-link" data-scroll-target="#guard---bottom---two-sweeps-two-submissions">Guard - bottom - two sweeps, two submissions</a>
  <ul class="collapse">
  <li><a href="#scissor-sweep" id="toc-scissor-sweep" class="nav-link" data-scroll-target="#scissor-sweep">Scissor sweep</a></li>
  <li><a href="#hip-bump-sweep" id="toc-hip-bump-sweep" class="nav-link" data-scroll-target="#hip-bump-sweep">Hip bump sweep</a></li>
  <li><a href="#arm-bar" id="toc-arm-bar" class="nav-link" data-scroll-target="#arm-bar">Arm bar</a></li>
  <li><a href="#kimura" id="toc-kimura" class="nav-link" data-scroll-target="#kimura">Kimura</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#escapes---two-for-each-position" id="toc-escapes---two-for-each-position" class="nav-link" data-scroll-target="#escapes---two-for-each-position">Escapes - two for each position</a>
  <ul class="collapse">
  <li><a href="#half-guard" id="toc-half-guard" class="nav-link" data-scroll-target="#half-guard">Half guard</a></li>
  <li><a href="#knee-ride" id="toc-knee-ride" class="nav-link" data-scroll-target="#knee-ride">Knee ride</a></li>
  <li><a href="#mount" id="toc-mount" class="nav-link" data-scroll-target="#mount">Mount</a>
  <ul class="collapse">
  <li><a href="#bridge-and-roll" id="toc-bridge-and-roll" class="nav-link" data-scroll-target="#bridge-and-roll">Bridge and roll</a></li>
  <li><a href="#bridge-and-bum-bump" id="toc-bridge-and-bum-bump" class="nav-link" data-scroll-target="#bridge-and-bum-bump">Bridge and bum-bump</a></li>
  </ul></li>
  <li><a href="#side-control" id="toc-side-control" class="nav-link" data-scroll-target="#side-control">Side control</a>
  <ul class="collapse">
  <li><a href="#knee-in-escape" id="toc-knee-in-escape" class="nav-link" data-scroll-target="#knee-in-escape">Knee-in escape</a></li>
  <li><a href="#underhook-escape" id="toc-underhook-escape" class="nav-link" data-scroll-target="#underhook-escape">Underhook escape</a></li>
  </ul></li>
  <li><a href="#back-control" id="toc-back-control" class="nav-link" data-scroll-target="#back-control">Back control</a></li>
  <li><a href="#scarf-hold" id="toc-scarf-hold" class="nav-link" data-scroll-target="#scarf-hold">Scarf hold</a></li>
  <li><a href="#north-south" id="toc-north-south" class="nav-link" data-scroll-target="#north-south">North-south</a>
  <ul class="collapse">
  <li><a href="#bridge-step-spin" id="toc-bridge-step-spin" class="nav-link" data-scroll-target="#bridge-step-spin">Bridge, step &amp; spin</a></li>
  <li><a href="#wriggle-escape" id="toc-wriggle-escape" class="nav-link" data-scroll-target="#wriggle-escape">Wriggle escape</a></li>
  </ul></li>
  <li><a href="#turtle" id="toc-turtle" class="nav-link" data-scroll-target="#turtle">Turtle</a>
  <ul class="collapse">
  <li><a href="#sit-through" id="toc-sit-through" class="nav-link" data-scroll-target="#sit-through">Sit-through</a></li>
  <li><a href="#spin-out" id="toc-spin-out" class="nav-link" data-scroll-target="#spin-out">Spin-out</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">White Belt</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="things-we-need-to-know-for-white-belt" class="level1">
<h1>Things we need to know for White Belt</h1>
<section id="closed-guard---top---4-passes" class="level2">
<h2 class="anchored" data-anchor-id="closed-guard---top---4-passes">Closed guard - top - 4 passes</h2>
<ul>
<li>First, get posture: starting with head on opponent’s chest, place hands on their biceps, then move your hands downwards to place pressure on their lower ribs while working your way to an upright sitting posture.</li>
<li>Step outwards with the left leg - remember to have leg as far back as possible to prevent opponent grabbing your ankle</li>
<li>If their ankles are still locked, push on their knee to break the grip</li>
</ul>
<section id="over-leg-pass" class="level3">
<h3 class="anchored" data-anchor-id="over-leg-pass">Over-leg pass</h3>
<ul>
<li>As soon as grip is broken, grab their legs in an under/over grip</li>
<li>Remember to slouch down while doing this</li>
<li>Elbow IN!</li>
<li>“Turn the wheel” to turn their hips</li>
<li>Pull their leg UNDER your left knee (do NOT lift your knee over!) - keep pressure on their leg</li>
<li>Lead with the hand - move your left hand under their head, while right hand moves to control their elbow</li>
<li>As you do this, you move the rest of your body into side control position - right knee to the hip, left leg extended</li>
</ul>
</section>
<section id="under-leg-pass" class="level3">
<h3 class="anchored" data-anchor-id="under-leg-pass">Under-leg pass</h3>
<ul>
<li>Only use this pass if your opponent resists, such than their leg does not hit the floor</li>
<li>Shrug your shoulders (remember to slouch!) so that your shoulder is now under their leg</li>
<li>Right knee moves forward next to their hip</li>
<li>Reach forward to grab their gi (for no-gi, grab their shoulder if you can)</li>
<li>Keeping your weight LOW and your head close to their shoulder, move around into side control position</li>
<li>Do NOT lift your head!</li>
<li>Keep the pressure down towards the hip until their leg slips over your head</li>
<li>Hands move into side control position - under head, controlling elbow.</li>
<li><a href="https://www.ultimatejujitsu.com/learn-jujitsu-techniques/brazilian-jiu-jitsu-techniques/escapes/passing-the-guard/">This link is the closest I’ve found to a reasonable illustration of this pass.</a></li>
</ul>
</section>
<section id="double-under-leg-pass" class="level3">
<h3 class="anchored" data-anchor-id="double-under-leg-pass">Double under-leg pass</h3>
<ul>
<li>This is useful if both over- and under-leg passes have been successfully resisted (e.g.&nbsp;opponent is pinching their legs together)</li>
<li>Grab both legs in an under-hook grip</li>
<li>If you can, grasp your hands together low around their hips (if not, you can do this later in the pass)</li>
<li>Now walk you knees forwards until their bum is level with your belly button (keeping the grip or fixing it now)</li>
<li>Once you are in this position, pick a shoulder. Push your head downward towards this shoulder, reaching with the opposite hand (grab the gi lapel, or shoulder for no-gi)</li>
<li>Now take two steps sideways to move around their body. Keep your head close to their shoulder as you do this, keeping the pressure on.</li>
<li>As in the single-under pass, eventually their leg will pop over your head (do NOT lift your head or take pressure off)</li>
<li>At this point, correct your posture and move around into side control - again, hand under head, other hand controls elbow.</li>
</ul>
</section>
<section id="dancing-pass" class="level3">
<h3 class="anchored" data-anchor-id="dancing-pass">“Dancing” pass</h3>
<ul>
<li>This one is sometimes called the “toureando/toreada” pass</li>
<li>This should be used if the opponent places their feet on the ground, or has the legs up between you in a defensive posture</li>
<li>If both feet are on the ground, place your hands on their knees and use this pressure to jump quickly up to your feet (knees bent), keeping close to their body</li>
<li>If knees are up, instead place your hands on their shins and use the downward pressure to spring upwards while controlling their legs</li>
<li>Skip your left leg around their knee, then quickly follow with your right leg, moving smoothly to the knee ride position - 1-2-3.</li>
</ul>
</section>
</section>
<section id="guard---bottom---two-sweeps-two-submissions" class="level2">
<h2 class="anchored" data-anchor-id="guard---bottom---two-sweeps-two-submissions">Guard - bottom - two sweeps, two submissions</h2>
<section id="scissor-sweep" class="level3">
<h3 class="anchored" data-anchor-id="scissor-sweep">Scissor sweep</h3>
<ul>
<li>You have the opponent in your closed guard, and they either haven’t sat up yet or you have pulled them back down with your legs (e.g.&nbsp;after knocking their hands away)</li>
<li>This sweep is preferred in gi, less so in no-gi because the timing is more critical</li>
<li>Grab their gi lapel (or, in no-gi, the back of their head)</li>
<li>As you do this, place your left foot on the ground, right leg between you, shrimp sideways, and pull them forward so that their weight is balanced on your shin</li>
<li>Once they are in this position, scissor your legs quickly so that they topple over to one side.</li>
<li>As they do this, your weight follows theirs (keep your grips!) so that you easily roll over into mount</li>
<li>Make sure to finish in the correct mount position with your hands on the floor.</li>
<li><a href="https://www.ultimatejujitsu.com/learn-jujitsu-techniques/brazilian-jiu-jitsu-techniques/transitions/scissor-sweep/">This is the best approximation I have found of an illustration of the scissor sweep</a></li>
</ul>
</section>
<section id="hip-bump-sweep" class="level3">
<h3 class="anchored" data-anchor-id="hip-bump-sweep">Hip bump sweep</h3>
<ul>
<li>This one is used when your opponent is sitting up and perhaps leaning backwards a bit to avoid being pulled forwards by you</li>
<li>From the bottom guard position, reach one hand over the opposite shoulder (you need to be able to do this on both sides), and sit up into the opponent’s lap. As you do this, bump them with your hip so that they fall backwards into your mount</li>
<li>Make sure to finish in mount position properly with your hands on the floor.</li>
</ul>
</section>
<section id="arm-bar" class="level3">
<h3 class="anchored" data-anchor-id="arm-bar">Arm bar</h3>
<ul>
<li>Your opponent has their hands on your shoulders</li>
<li>You grab their right arm just above the elbow with your right hand and push it across their body</li>
<li>Push your left hand into their right shoulder just under their chin</li>
<li>Now quickly hoick your legs upwards so that you are gripping them around their shoulder (this is the bit I have trouble with)</li>
<li>Next move???</li>
<li>Left leg goes over their head</li>
<li>Now you are at right angles to your opponent in the correct position to finish the arm bar</li>
<li>Hands move upwards to grip their wrist firmly</li>
<li>This should be a very tight position but if necessary lift the hips to finish the submission</li>
</ul>
<p><a href="https://www.ultimatejujitsu.com/learn-jujitsu-techniques/brazilian-jiu-jitsu-techniques/arm-locks/arm-bar-from-the-guard/">This is the closest approximation I have been able to find of this move</a></p>
</section>
<section id="kimura" class="level3">
<h3 class="anchored" data-anchor-id="kimura">Kimura</h3>
<ul>
<li>This one is to use when the person in top position puts their arm on the floor</li>
<li>Immediately grab the arm with a baseball bat grip (thumb encircles the arm)</li>
<li>Put opposite foot on the floor, same knee on back, and crunch sideways, sitting up slightly and bringing the arm with you so that it bends over their back into the start of the Kimura</li>
<li>Reach other hand through to grab your own wrist into the Figure 4</li>
<li>Engage the wrist by pushing your top hand down slightly, then slowly push their wrist upwards towards their shoulder until they tap</li>
<li>Go slowly here - don’t want to cause injury.</li>
</ul>
</section>
</section>
</section>
<section id="escapes---two-for-each-position" class="level1">
<h1>Escapes - two for each position</h1>
<section id="half-guard" class="level2">
<h2 class="anchored" data-anchor-id="half-guard">Half guard</h2>
<ul>
<li>Your opponent has you in half guard (they have their legs round one of yours) because you did something dumb e.g.&nbsp;while trying to transition from side control to mount</li>
<li>Don’t worry! Move around into side control position anyway with the rest of your body.</li>
<li>Ball of left foot extends out, right knee on floor, arms into position (under the head and controlling the elbow)</li>
<li>Flatten your opponent</li>
<li>Now switch legs; keeping your trapped (usually right) foot on the floor, move both arms over their body, left knee to hip. Push their knee out and down.</li>
<li>Move your trapped foor heel/toe/heel/toe until you have enough room to slice the knee of your trapped leg down to the floor. Trap their arm too.</li>
<li>Patience here! This may take time</li>
<li>If you are still trapped, shift your weight so that you are properly on top of them and move your left foot across to hook their feet and unlock them.</li>
<li>Now you should move into mount position, sitting back with your weight on your opponent’s hips</li>
</ul>
</section>
<section id="knee-ride" class="level2">
<h2 class="anchored" data-anchor-id="knee-ride">Knee ride</h2>
<ul>
<li>It is critical here to keep your <strong>core engaged</strong>. Don’t panic! You know this escape!</li>
<li>Move your left knee upwards to push on your opponent’s back</li>
<li>Now bridge strongly on your other (right) foot, unbalancing your opponent</li>
<li>As they fall, quickly shrimp out from under them, turning TOWARDS them onto your knees and grabbing their knee with your arms</li>
<li>Your left foot goes UNDER your right leg as your right leg remains elevated in the bridge position during this manoeuvre.</li>
</ul>
</section>
<section id="mount" class="level2">
<h2 class="anchored" data-anchor-id="mount">Mount</h2>
<section id="bridge-and-roll" class="level3">
<h3 class="anchored" data-anchor-id="bridge-and-roll">Bridge and roll</h3>
<ul>
<li>This is the simplest escape from mount but usually won’t work against a seasoned opponent</li>
<li>Grab their right arm with your right hand just above their elbow and bring it across their body</li>
<li>With your other (left) arm, reach across their back as far as you can so you have them in a bear hug</li>
<li>Bridge strongly on your right foot and roll them over as they unbalance</li>
<li>You should land in mount quite easily. Remember to finish the transition into mount</li>
</ul>
</section>
<section id="bridge-and-bum-bump" class="level3">
<h3 class="anchored" data-anchor-id="bridge-and-bum-bump">Bridge and bum-bump</h3>
<ul>
<li>This is a more reliable escape if your opponent has a solid mount game</li>
<li>First, establish the survival position by pushing your left arm down against their hips, bracing it with your right hand on your wrist</li>
<li>Engage your core!</li>
<li>Left leg FLAT, right knee bent</li>
<li>Bridge strongly on your right leg, keeping the ball of your right foot firmly on the floor an knee upright</li>
<li>As you do this, bump outwards <strong>strongly</strong> with your right hip and shrimp outwards to escape</li>
<li>If you do not keep your right foot engaged strongly with the floor this will fail</li>
<li><strong>Shrimp again</strong> to create lots of space between you</li>
<li>Now right knee comes in between you and your opponent</li>
<li>Feet on hips, move your body around so that you are facing your opponent</li>
<li>Create a push-pull to pull them into your guard
<ul>
<li>For gi play, you can grab their lapel and sleeve</li>
<li>For no-gi, do this by grabbing their wrist with both hands</li>
</ul></li>
<li>Once you have established this tension, quickly move your feet off their hips and pull them into your guard</li>
</ul>
</section>
</section>
<section id="side-control" class="level2">
<h2 class="anchored" data-anchor-id="side-control">Side control</h2>
<section id="knee-in-escape" class="level3">
<h3 class="anchored" data-anchor-id="knee-in-escape">Knee-in escape</h3>
</section>
<section id="underhook-escape" class="level3">
<h3 class="anchored" data-anchor-id="underhook-escape">Underhook escape</h3>
</section>
</section>
<section id="back-control" class="level2">
<h2 class="anchored" data-anchor-id="back-control">Back control</h2>
</section>
<section id="scarf-hold" class="level2">
<h2 class="anchored" data-anchor-id="scarf-hold">Scarf hold</h2>
</section>
<section id="north-south" class="level2">
<h2 class="anchored" data-anchor-id="north-south">North-south</h2>
<section id="bridge-step-spin" class="level3">
<h3 class="anchored" data-anchor-id="bridge-step-spin">Bridge, step &amp; spin</h3>
<ul>
<li>Make sure your forearms are in the brace position - palms on forehead, elbows in, holding your opponent away from your body</li>
<li>Bridge strongly upwards to one side to unbalance your opponent</li>
<li>Step sideways away from the side they have fallen to</li>
<li>Spin away from them 180 degrees, landing in butterfly guard (?)</li>
<li>Place feet on their hips and pull them into your guard (?)</li>
</ul>
</section>
<section id="wriggle-escape" class="level3">
<h3 class="anchored" data-anchor-id="wriggle-escape">Wriggle escape</h3>
</section>
</section>
<section id="turtle" class="level2">
<h2 class="anchored" data-anchor-id="turtle">Turtle</h2>
<section id="sit-through" class="level3">
<h3 class="anchored" data-anchor-id="sit-through">Sit-through</h3>
</section>
<section id="spin-out" class="level3">
<h3 class="anchored" data-anchor-id="spin-out">Spin-out</h3>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>